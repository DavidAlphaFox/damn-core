; - document this nicely -
; - make schema ! -> telling you missed keys, like I just forgot quality-sclaing.
; - make wiki ? -
; - make actual editor for it ? -
; - mix with properties ? -
{:app {:title "Cyber Dungeon Quest"
       :width  1440
       :height 900
       :full-screen? false
       :fps 60}
 :context [; no dependencies
           [:context/config {:tag :dev
                             :configs {:prod {:map-editor? false
                                              :property-editor? false
                                              :debug-window? false
                                              :debug-options? false}
                                       :dev {:map-editor? true
                                             :property-editor? true
                                             :debug-window? true
                                             :debug-options? true}}}]
           [:context/assets {:folder "resources/"
                             :sound-file-extensions #{"wav"}
                             :image-file-extensions #{"png" "bmp"}
                             :log-load-assets? false}]

           ; image loading depends on assets, otherwise no dependencies. (-> only that function !)
           [:context/graphics {:world-view {:tile-size 48}
                               :default-font {:file "exocet/films.EXL_____.ttf"
                                              :size 16
                                              :quality-scaling 2}
                               :cursors {:cursors/default ["default" [0 0]]
                                         :cursors/black-x ["black_x" [0 0]]
                                         :cursors/denied ["denied" [16 16]]
                                         :cursors/hand-grab ["hand003" [4 16]]
                                         :cursors/hand-before-grab ["hand004" [4 16]]
                                         :cursors/hand-before-grab-gray ["hand004_gray" [4 16]]
                                         :cursors/over-button ["hand002" [0 0]]
                                         :cursors/sandclock ["sandclock" [16 16]]
                                         :cursors/walking ["walking" [16 16]]
                                         :cursors/no-skill-selected ["denied003" [0 0]]
                                         :cursors/use-skill ["pointer004" [0 0]]
                                         :cursors/skill-not-usable ["x007" [0 0]]
                                         :cursors/bag ["bag001" [0 0]]
                                         :cursors/move-window ["move002" [16 16]]
                                         :cursors/princess ["exclamation001" [0 0]]
                                         :cursors/princess-gray ["exclamation001_gray" [0 0]]}}]

           ; depends on graphics: batch & world-view (only render map !)
           [:context/tiled]

           ; TODO dispose stage-screens
           ; depends on graphics: batch & gui-view (only stage !)
           [:context/ui]

           ; depends on graphics for image,animation edn->data
           [:context/properties {:types [:properties/audiovisual
                                         :properties/creature
                                         :properties/item
                                         :properties/projectile
                                         :properties/skill
                                         :properties/world]
                                 :file "resources/properties.edn"}]
           [:context/screens [:screens/main-menu
                              :screens/game
                              :screens/map-editor ; TODO tiled-map not disposed as cannot implement java interface at record?
                              :screens/minimap
                              :screens/options-menu
                              :screens/property-editor]]
           [:effect/target-entity]

           [:entity/animation]
           [:entity/body]
           [:entity/clickable]
           [:entity/delete-after-animation-stopped]
           [:entity/delete-after-duration]
           [:entity/faction]
           [:entity/image]
           [:entity/inventory]
           [:entity/line-render]
           [:entity/mouseover]
           [:entity/player]
           [:entity/plop]
           [:entity/projectile-collision]
           [:entity/reaction-time]
           [:entity/shout]
           [:entity/skills]
           [:entity/state]
           [:entity/stats]
           [:entity/string-effect]]}
